<?xml version="1.0" encoding="UTF-8"?>

<!--
    MainCafe.fxml
    A BorderPane-based layout:
      - top:    currentAlgorithmLabel
      - left:   menuBox with items (+/-)
      - center: verticalSplitPane with 3 ListViews
      - bottom: row of place/process/clear/toggle/time/weights/algorithm
-->

<!-- Import statements -->
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.layout.SplitPane?>
<?import javafx.geometry.Pos?>

<BorderPane
        xmlns="http://javafx.com/javafx"
        xmlns:fx="http://javafx.com/fxml"
        fx:controller="app.client.ui.MainCafeController"
        prefWidth="1000" prefHeight="600"
        style="-fx-background-color: #ecf0f1;">

    <!-- TOP BAR: Algorithm label -->
    <top>
        <Label fx:id="currentAlgorithmLabel"
               text="Current Algorithm: Time Based Algorithm"
               style="-fx-font-size: 18; -fx-padding: 10; -fx-text-fill: #2c3e50;" />
    </top>

    <!-- LEFT SIDE: MenuBox -->
    <left>
        <VBox fx:id="menuBox"
              spacing="15"
              alignment="TOP_LEFT"
              style="-fx-background-color: #2c3e50; -fx-padding: 10;">
            <Label text="Main Menu"
                   style="-fx-font-size: 20px; -fx-text-fill: #ecf0f1;" />

            <!-- Cappuccino row -->
            <Label text="Cappuccino" style="-fx-text-fill: #ecf0f1;" />
            <HBox spacing="10">
                <Button text="+" style="-fx-background-color: #27ae60; -fx-text-fill: white;"
                        onAction="#handleItemPlus">
                    <userData>Cappuccino</userData>
                </Button>
                <Button text="-" style="-fx-background-color: #c0392b; -fx-text-fill: white;"
                        onAction="#handleItemMinus">
                    <userData>Cappuccino</userData>
                </Button>
            </HBox>

            <!-- Espresso row -->
            <Label text="Espresso" style="-fx-text-fill: #ecf0f1;" />
            <HBox spacing="10">
                <Button text="+" style="-fx-background-color: #27ae60; -fx-text-fill: white;"
                        onAction="#handleItemPlus">
                    <userData>Espresso</userData>
                </Button>
                <Button text="-" style="-fx-background-color: #c0392b; -fx-text-fill: white;"
                        onAction="#handleItemMinus">
                    <userData>Espresso</userData>
                </Button>
            </HBox>

            <!-- Sandwich row -->
            <Label text="Sandwich" style="-fx-text-fill: #ecf0f1;" />
            <HBox spacing="10">
                <Button text="+" style="-fx-background-color: #27ae60; -fx-text-fill: white;"
                        onAction="#handleItemPlus">
                    <userData>Sandwich</userData>
                </Button>
                <Button text="-" style="-fx-background-color: #c0392b; -fx-text-fill: white;"
                        onAction="#handleItemMinus">
                    <userData>Sandwich</userData>
                </Button>
            </HBox>

            <!-- Big 3 buttons on the left: Add/Remove/Change Weight -->
            <Button text="Add New Item"
                    style="-fx-background-color: #2980b9; -fx-text-fill: white;"
                    onAction="#handleOpenAddItem" />
            <Button text="Remove Item"
                    style="-fx-background-color: #e74c3c; -fx-text-fill: white;"
                    onAction="#handleRemoveItem" />
            <Button text="Change Item Weight"
                    style="-fx-background-color: #f1c40f; -fx-text-fill: black;"
                    onAction="#handleOpenChangeWeight" />
        </VBox>
    </left>

    <!-- CENTER: a vertical SplitPane with 3 ListViews -->
    <center>
        <SplitPanel fx:id="verticalSplitPane">
            <items>
                <ListView fx:id="cartView">
                    <placeholder>
                        <Label text="Your cart is empty" />
                    </placeholder>
                </ListView>

                <ListView fx:id="queueView">
                    <placeholder>
                        <Label text="Queue is empty" />
                    </placeholder>
                </ListView>

                <ListView fx:id="processedOrdersView">
                    <placeholder>
                        <Label text="No processed orders yet" />
                    </placeholder>
                </ListView>
            </items>
        </SplitPanel>
    </center>

    <!-- BOTTOM: row of place/process/clear/toggle/time/weights/algorithm -->
    <bottom>
        <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 10;">
            <Button text="Place Order"            onAction="#handlePlaceOrder" />
            <Button text="Process Order"          onAction="#handleProcessOrder" />
            <Button text="Clear Processed Orders" onAction="#handleClearProcessed" />
            <Button text="Toggle Theme"           onAction="#handleToggleTheme" />
            <Button text="Set Time Values"        onAction="#handleTimeValues" />
            <Button text="Set Time Weights"       onAction="#handleTimeWeights" />
            <Button text="Switch Algorithm"       onAction="#handleSelectAlgorithm" />
        </HBox>
    </bottom>

</BorderPane>
